# tasks/main.yml
---

- name: Run preflight checks
  ansible.builtin.include_tasks: preflight.yml

- name: Configure host
  ansible.builtin.include_tasks: configure.yml

- name: Initialize control-plane
  ansible.builtin.include_tasks: init-control-plane.yml
  when: k8s_cluster_node_type == 'master'

- name: Initialize workers
  ansible.builtin.include_tasks: init-workers.yml
  when: k8s_cluster_node_type == 'worker'
